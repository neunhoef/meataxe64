#
# unix specific fragment for building
#
include $(COMPILER).txt
EXEEXT=
LIBEXT=	a
OBJEXT=	o
DEPENDOBJEXT=	o
DEPENDEXT=	d
ASMOUTEXT=	s
PPEXT=	e
DEPEND_CC=	gcc
COMPILE_INCLUDES=	-include $(SRC)/mt_types.h
COMPILE_CFLAGS=	$(COMPILE_INCLUDES) $(COMPILE_DEFINES) $(COMPILE_EXTRA_DEFS) $(COMPILE_WARNINGS)
COMPILE_AFLAGS=	$(COMPILE_WARNINGS)
LINK_FLAGS=
ifeq ("${ARCH}", "em64t")
COMPILE_CFLAGS+=	-m64
LINK_FLAGS+=	-m64
endif
COMPILE_CFLAGS+=	-pthread -include malloc.h
LINK_FLAGS+=	-pthread
REL_COMPILE_FLAGS=	-g -O3 -finline-functions
DEBUG_COMPILE_FLAGS=	-g
ASMOUT_FLAGS=	-S
PP_FLAGS=	-E
REL_LINK_FLAGS=	$(LINK_FLAGS)
DEBUG_LINK_FLAGS=	$(REL_LINK_FLAGS) $(DEBUG_COMPILE_FLAGS)
PROF_COMPILE_FLAGS=	-pg
PROF_LINK_FLAGS=	$(DEBUG_LINK_FLAGS) $(PROF_COMPILE_FLAGS)
PROFNA_LINK_FLAGS=	$(PROF_LINK_FLAGS)
NA_COMPILE_FLAGS=	"-DNDEBUG=1"
LINK=	$(CC) -o # terminating space
ARCHIVE=	ar cr # terminating space
REL_LIBS=	-lm
DEBUG_LIBS=	$(REL_LIBS)
PROF_LIBS=	$(DEBUG_LIBS)
PROFNA_LIBS=	$(PROF_LIBS)
COMPILE=	$(CC) -c -o # terminating space
DEP_COMPILE_CFLAGS=	-MM -MG $(COMPILE_INCLUDES) $(COMPILE_DEFINES) $(COMPILE_EXTRA_DEFS)
